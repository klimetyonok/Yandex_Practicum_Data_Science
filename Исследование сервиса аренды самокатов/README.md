# Исследование сервиса аренды самокатов

## Описание проекта

Чтобы совершать поездки по городу, пользователи сервиса аренды самокатов GoFast пользуются мобильным приложением. Сервисом можно пользоваться:\
без подписки\
абонентская плата отсутствует;\
стоимость одной минуты поездки — 8 рублей;\
стоимость старта (начала поездки) — 50 рублей;\
с подпиской Ultra\
абонентская плата — 199 рублей в месяц;\
стоимость одной минуты поездки — 6 рублей;\
стоимость старта — бесплатно.

## Описание данных

В основных данных есть информация о пользователях, их поездках и подписках.

Пользователи — users_go.csv:\
- user_id - уникальный идентификатор пользователя\
- name - имя пользователя\
- age - возраст\
- city - город\
- subscription_type - тип подписки (free, ultra)

Поездки — rides_go.csv
- user_id - уникальный идентификатор пользователя\
- distance - расстояние, которое пользователь проехал в текущей сессии (в метрах)\
- duration - продолжительность сессии (в минутах) — время с того момента, как пользователь нажал кнопку «Начать поездку» до момента, как он нажал кнопку «Завершить поездку»\
- date - дата совершения поездки

Подписки — subscriptions_go.csv\
- subscription_type - тип подписки\
- minute_price - стоимость одной минуты поездки по данной подписке\
- start_ride_price - стоимость начала поездки\
- subscription_fee - стоимость ежемесячного платежа

## Вывод по итогам исследования

**Общий вывод:**\
Исходя из проведенного исследования сервиса аренды самокатов GoFast, можно сделать следующие выводы: 
1. Загрузка данных.
В датафрейме users 1565 записей, в датафреме rides 18 068 записей, в датафрейме subscriptions 2 записи.
2. Предобработка данных.
- Привели столбец date в датафрейме rides к типу даты pandas.
- Создали новый столбец с номером месяца на основе столбца date.
- Пропусков в данных нет, все данные заполнены.\
Однако, в датафрейме users найден 31 дубликат. Удаляем их методом drop_duplicates().
Округлили данные в столбце distance в датафрейме rides до 2 знаков.\
Округлили каждое значение в столбце duration с помощью метода np.ceil.
3. Исследовательский анализ данных.
- Самым часто встречающимся городом является Пятигорск, далее идут Екатеринбург и Ростов-на-Дону.
- Как показывает диаграмма, пользователей без подписки больше, чем пользователей с подпиской. Их соотношение в % равно 54,1% и 45,9% соответственно.
- Наибольшее количество пользователей в возрасте 22-28 лет. Средний возраст пользователя примерно 25 лет.
- Среднее растояние, которое пользователь преодолевает за одну поездку, составляет 3071м.
- Средняя продолжительность поездки составляет 17 мин.
4. Объединение данных.
- Объединение данных о пользователях, поездках и подписках в один датафрейм проведено успешно. Количество строк объединенной таблицы соответствует количеству строк в таблице с максимальным количеством строк, 18 068 в таблице rides. Явные дубликаты отсутствуют.
- Создали два датафрейма c данными о пользователях без подписки и с данными о пользователях с подпиской из датафрейма, созданного на предыдущем этапе.
- Как показывают графики и описание расстояний поездок пользователей, среднее значение расстояний поездок пользователей с подпиской составляет 3 115 м, что выше среднего значения расстояний поездок пользователей без подписки, которое составило 3 045 м. Таким образом, при наличии подписки пользователи проезжают в среднем большее расстояние.\
Как показывают графики и описание времени поездок пользователей, среднее значение продолжительности поездок пользователей с подпиской составляет 18 мин., что выше среднего значения продолжительности поездок пользователей без подписки, которое составило 17 мин. Таким образом, средняя продолжительность поездки пользователей с подпиской больше, чем пользователей без подписки.
5. Подсчёт выручки.
- Cоздали таблицу с суммарным расстоянием, количеством поездок и суммарным временем для каждого пользователя за каждый месяц и просмотрели ее первые строки.
- Добавили в созданную в предыдущем пункте таблицу столбец с помесячной выручкой, которую принёс каждый пользователь.
6. Проверка гипотез.
- Нулевая гипотеза отвергнута. Есть основания утверждать, что средние значения времени поездок пользователей с подпиской больше средних значений времени поездок пользователей без подписки, при установленном уровне статистической значимости 5%.
- Нулевую гипотезу не получилось отвергнуть. Есть основания утверждать, что среднее расстояние, которое проезжают пользователи с подпиской за одну поездку, не превышает оптимальное расстояние 3130 метров при установленном уровне статистической значимости 5%. 
- Нулевая гипотеза отвергнута. Есть основания утверждать, что помесячная средняя выручка от пользователей с подпиской больше помесячной средней выручки от пользователей без подписки при установленном уровне статистической значимости 5%.
- Чтобы проверить, снизилось ли количество обращений в техподдержку, используем метод scipy.stats.ttest_rel().\
Ему достаточно передать всего два параметра: наборы данных до и после. Оба набора должны быть одинаковыми по размеру: каждое измерение должно быть проведено до и после изменения. 
В данной ситуации это пара измерений для каждого пользователя - до и после обновления сервера, а именно, количество обращений до и после обновления. При тестировании будем использовать параметр alternative='less'. Гипотеза является односторонней, поскольку нас интересует только снижение обращений.
7. Распределения.
- Необходимо разослать как минимум 1161 промокод, чтобы вероятность не выполнить план была примерно 5 %.
- Если разослать 1 млн. уведомлений, то вероятность того, что уведомление откроет не более 399,5 тыс. пользователей составит 15,37%.

## Используемые библиотеки

*pandas, numpy, matplotlib, scipy*